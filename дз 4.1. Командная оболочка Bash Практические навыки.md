# 4.1. Командная оболочка Bash: Практические навыки
- 1). Есть скрипт:
	 
		a=1
		b=2
		c=a+b
		d=$a+$b 
		e=$(($a+$b))
	- Какие значения переменным c,d,e будут присвоены?
	- Почему?
		- c=a+b здесь a и b не переменные, "a+b"-строка
		- d=1+2 здесь переданы значения переменных a и b, но "+" в данном случае элемент строки,
		а не арифметический оператор 
		- e=3 арифметические операции можно выполнить в двойных круглых скобках,
		или одинарных квадратных
	
- 2). На нашем локальном сервере упал сервис и мы написали скрипт, 
который постоянно проверяет его доступность, записывая дату проверок до тех пор,
 пока сервис не станет доступным.
 В скрипте допущена ошибка, из-за которой выполнение не может завершиться,
 при этом место на Жёстком Диске постоянно уменьшается. 
Что необходимо сделать, чтобы его исправить:  

	```
        while ((1==1))
        do
        curl https://localhost:4757
            if (($? != 0))
                then
                #date >> curl.log - файл дописывается, поэтому растет размер.
                date > curl.log - файл перезаписывается, размер не увеличивается.
                break - для прерывания скрипта
            fi
        done  
	```

- 3). Необходимо написать скрипт, который проверяет доступность 
трёх IP: 192.168.0.1, 173.194.222.113, 87.250.250.242 по 80 порту и 
записывает результат в файл log. Проверять доступность необходимо 
пять раз для каждого узла.
	```
        array=("192.168.0.1" "173.194.222.113" "87.250.250.242")
        for i in ${array[@]}
        do
            j=1
            while ((j<=5))
            do
                http_code=$(curl -m 1 -s -o /dev/null -w "%{http_code}\n" http://$i)
                echo try $j, ip=$i, http_code=$http_code >> avail.log
                let "j+=1"
            done
        done
	```

		
- 4). Необходимо дописать скрипт из предыдущего задания так, 
	чтобы он выполнялся до тех пор, пока один из узлов не окажется недоступным. 
	Если любой из узлов недоступен - IP этого узла пишется в файл error, 
	скрипт прерывается
	```
	    array=("192.168.0.1" "173.194.222.113" "87.250.250.242")
	    array_length=${#array[@]}
	    while :
            do
                for (( i=0; i<$array_length; i++ ))
                    do
                    http_code=$(curl -m 1 -s -o /dev/null -w "%{http_code}\n" http://${array[$i]})			
                    if [ "$http_code" != "200" ]
                        then  
                        echo ip=${array[$i] >> error.log
                        break 2
                    fi
                done
           done
	```
	


