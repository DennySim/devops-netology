# 5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения
- 1). Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, 
	паравиртуализации и виртуализации на основе ОС.
	 
	- Аппаратная виртуализация - гипервизор реализован ввиде ОС, т.е. система не 
	имеет функций свойственных ОС, кроме как эмуляции ресурсов хоста и 
	других функций, связянных с виртуализацией.  

	- Паравиртуализация - гипервизор запускается в среде обычной ОС. Помимо использования ВМашин, 
	можно ипользовать ОС хоста.   

	- Виртуализация на основе ОС - создание ВМ в изолированном пространстве имен, и т.о. ОС ВМ всегда будет
	такой же, как у хоста. В linux достаточно давно имеется для этого chroot, 
	ранее часто используемый для dns-сервера(bind).   
	
	
- 2). Выберите один из вариантов использования организации физических серверов, 
		в зависимости от условий использования.

	Организация серверов:  

	- (1) физические сервера,  
	- (2) паравиртуализация,  
	- (3) виртуализация уровня ОС   

	Условия использования:  
	
	- Высоконагруженная база данных, чувствительная к отказу  
		(1) - наименьшая задержка
	- Различные web-приложения  
		(3) - быстрое развертывание приложений, отличная утилизация ресурсов.  
	- Windows системы для использования бухгалтерским отделом  
		(2) например, hyper-v
	- Систем, выполняющих высокопроизводительные расчеты на GPU  
		(1) - наименьшая задержка
	
- 3). Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

    Сценарии:
    
    1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, 
    требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.  
        - Для преимущественно Windows based инфраструктуры есть смысл выбрать Hyper-V.
    2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) 
        инфраструктуры на базе Linux и Windows виртуальных машин.
        - KVM и XEN PV максимально совместимые, но КVM имеет проблемы с IO при большой нагрузке. Т.о. выбираем XEN PV.
    3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры. 
        - KVM и XEN PV максимально совместимые, но КVM имеет проблемы с IO при большой нагрузке. Т.о. выбираем XEN PV.
    4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux. 
        - XEN PV - быcтрое развертывание, возможность запускать разные ядра.
        Также можно использовать продукты VMware и Hyper-v.
	
- 4). Опишите возможные проблемы и недостатки гетерогенной среды виртуализации 
(использования нескольких систем управления виртуализацией одновременно) 
и что необходимо сделать для минимизации этих рисков и проблем. 
Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? 
Мотивируйте ваш ответ примерами.

        1) Аппаратная виртуализация.
            - нет нативной возможности перемещать ВМ между средами виртулизации(в том числе live migration), 
            только через конверторы.
            - резервную копию можно разворачивать только в исходную среду.
            - нет возможности обеспечить отказоустойчивать средствами системы виртуализации.
            - вероятны проблемы совместного доступа у сред к общим СХД и сетевому оборудованию.
            - экономически выгоднее иметь одну среду.
            - для поддержки разных сред требуются инженеры с опытом работы с обоими средами.
        2) Виртуализация средствами ОС.
            - проблемы будут схожими как и у аппартной виртуализации, за исключением пункта о совместном доступе
            к СХД и сетевому оборудования.
        
        Минимизация рисков
            - использование конверторов для перемещения ВМ между средами
            - использование средств отказоустойчивости на уровне БД и приложений.
            - при резервном копировании создавать дополнительно сконвертированную копию для другой среды.
            - использование сред, в которых используется одинаковый гипервизор, например, kvm.
        
        
        Исходя из выше указанных замечаний, я бы выбрал одну среду. С другой стороны, все зависит от потребностей. 
        Например, если я работаю в компании-разработчике, то заказчики могут выбирать целевую системы для 
        своих задач. Тогда необходимо иметь несколько различных сред, чтобы была возможность
        удовлетворять любые потребности заказчиков.
        


